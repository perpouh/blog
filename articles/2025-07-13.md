
こういう図を書いてmohizに見せてみた

![[ユーザー登録フロー.drawio.png]]
## 得たフィードバック

 - S3にメールアドレス送信は無理では……？S3にHTMLを置いて、ユーザーのブラウザからAPI GatewayにPOST？
	 - 私の想定を汲み取ってくれてありがたいけど汲み取らせる図はよろしくはなさそう
 - RailsはAWSの何のサービスで動かすのか？RailsとポスグレもAWSのサービスで書いたほうが良さそう
	 - それはそう。「誰が何をするか」って考え方をしていたので混ざった
	 - ECS/ECR/EC2はなんかこのフロー上で仕事をするわけではないというか
	 画面表示したりデータをDBに送信したりするコードはRailsの仕事だしなあっていう
 - Dispatchは何を送るか書いた方がよさそう
	 - それはそう
 - 個人的には仮登録アドレスを発行するLambdaとRailsで分けるとシステム複数管理することになるのでちょっと面倒そうだなって思いました（技術触る目的なら全然有り）
	 - 技術触る目的なのでこれはこれでよし
 - SSL/TLSはCloudFrontで終端処理するのかなーとか思いました
	 - はい
 - Lambdaのランタイムがなんなのか？相当がRailsにあたると思うので、コンピューティングリソースとしてEC2orECSになってるほうがしっくりくるかな
	 - なるほど

Q. CloudFrontとかELBとかECSとかECRとかCloudFrontとかどの程度まで書くものなん
A. ECS書くならECRは自明だから要らなくね？みたいな感覚ありますけど人によりそう


## 考えたこと

 - 全体構成図と詳細構成図で粒度を分けたらいいかもしれない
	 - 全体構成図ではECRとかELBは書かないけど詳細構成図ではそれらも書く
	 - セキュリティに焦点を当てた構成図とかシーケンス図とかなんかいろいろ図が発生しそう